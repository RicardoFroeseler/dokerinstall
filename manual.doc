REMOVENDO O DOCKER
# 1. Parar e remover o container Jellyfin (se existir)
docker stop jellyfin 2>/dev/null || true
docker rm jellyfin 2>/dev/null || true

# 2. Parar e remover todos os containers Docker
docker stop $(docker ps -aq) 2>/dev/null || true
docker rm $(docker ps -aq) 2>/dev/null || true

# 3. Remover todas as imagens Docker
docker rmi $(docker images -q) 2>/dev/null || true

# 4. Remover todos os volumes Docker
docker volume rm $(docker volume ls -q) 2>/dev/null || true

# 5. Desinstalar pacotes Docker do APT
sudo apt remove --purge -y docker-ce docker-ce-cli containerd.io docker-engine docker.io
sudo apt autoremove -y

# 6. Apagar dados do Docker
sudo rm -rf /var/lib/docker /var/lib/containerd

# 7. Remover repositÃ³rio e chave do Docker
sudo rm -f /etc/apt/sources.list.d/docker.list
sudo rm -f /usr/share/keyrings/docker-archive-keyring.gpg

# 8. Apagar toda a pasta de dados do Jellyfin (configuraÃ§Ãµes, cache, plugins e mÃ­dia)
rm -rf ~/jellyfin


-----------------------------------------------------
REMOVENDO O JELLYFIN
# 1. Parar e desabilitar o serviÃ§o Jellyfin (se instalado via APT)
sudo systemctl stop jellyfin
sudo systemctl disable jellyfin

# 2. Desinstalar pacotes Jellyfin
sudo apt remove --purge -y jellyfin jellyfin-server jellyfin-web
sudo apt autoremove -y

# 3. Apagar dados de configuraÃ§Ã£o e bibliotecas do Jellyfin
sudo rm -rf /var/lib/jellyfin
sudo rm -rf /etc/jellyfin
rm -rf ~/jellyfin

# 4. (Opcional) Se vocÃª tiver um usuÃ¡rio chamado jellyfin, removÃª-lo
sudo userdel jellyfin 2>/dev/null || true


-----------------------------------------------------
CONFERENCIA

docker ps -a
Se nÃ£o aparecer nenhum container, estÃ¡ limpo.

docker images
Deve mostrar apenas a imagem <none> ou nenhuma referÃªncia a jellyfin.

docker volume ls
NÃ£o deve aparecer nenhum volume, especialmente nada como jellyfin_*.

dpkg -l | grep -E "docker|containerd|jellyfin"
NÃ£o deve retornar linhas para docker-ce, docker.io, containerd.io ou qualquer pacote jellyfin.

ls ~/jellyfin
Se tudo foi removido, deve responder:

ls: cannot access '/home/ricardo/jellyfin': No such file or directory
ou simplesmente nÃ£o mostrar nada.

-----------------------------------------------------
INSTALAÃ‡ÃƒO

1. Atualizar o sistema
sudo apt update && sudo apt upgrade -y


2. Instalar o Docker Engine
# DependÃªncias
sudo apt install -y apt-transport-https ca-certificates curl software-properties-common gnupg

# Adicionar chave GPG e repositÃ³rio oficial
curl -fsSL https://download.docker.com/linux/ubuntu/gpg \
  | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg

echo \
  "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] \
   https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" \
  | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# Instalar Docker
sudo apt update
sudo apt install -y docker-ce docker-ce-cli containerd.io

# Permitir usar Docker sem sudo
sudo usermod -aG docker $USER

COMANDO COMPLETO
---
sudo apt update && sudo apt install -y apt-transport-https ca-certificates curl software-properties-common gnupg && \
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg && \
echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null && \
sudo apt update && sudo apt install -y docker-ce docker-ce-cli containerd.io && \
sudo usermod -aG docker $USER
---

3. Criar diretÃ³rios limpos para o Jellyfin
mkdir -p ~/jellyfin/{config,cache,media/{Filmes,SÃ©ries,Animes},config/plugins}


4. Subir o Jellyfin em Docker
mkdir -p ~/jellyfin/{config,cache,config/plugins,media/{Filmes,SÃ©ries,Animes}} && \
docker run -d --name jellyfin \
  -p 8096:8096 \
  -v ~/jellyfin/config:/config \
  -v ~/jellyfin/cache:/cache \
  -v ~/jellyfin/media:/media \
  jellyfin/jellyfin:latest


5. Completar o setup inicial pelo navegador
Abra o navegador na VM: http://localhost:8096

Siga o wizard:

Escolha idioma

Crie usuÃ¡rio admin e senha

Adicione bibliotecas apontando para /media/Filmes, /media/SÃ©ries, /media/Animes

Conclua

6. Instalar o plugin â€œCustom CSS and Scriptâ€
cd ~/jellyfin/config/plugins
curl -LO https://github.com/jellyfin/jellyfin-plugin-customcss/releases/download/v1.0.2/Jellyfin.Plugin.CustomCss.zip
unzip Jellyfin.Plugin.CustomCss.zip && rm Jellyfin.Plugin.CustomCss.zip
docker restart jellyfin


7. Configurar seu CSS e JS no plugin

No Jellyfin (http://localhost:8096), faÃ§a login como admin.

VÃ¡ em â˜° â†’ Painel â†’ Plugins â†’ Meus Plugins â†’ Custom CSS and Script.

Cole em Custom CSS:

CSS
.suporte-botao {
  color: white;
  background-color: #0077cc;
  padding: 5px 10px;
  margin-right: 10px;
  border-radius: 5px;
  font-weight: bold;
  text-decoration: none;
  cursor: pointer;
}
.suporte-botao:hover {
  background-color: #005fa3;
}

JS:
const intervalo = setInterval(() => {
  const h = document.querySelector(".headerRight");
  if (h && !document.querySelector(".suporte-botao")) {
    const btn = document.createElement("a");
    btn.textContent = "ðŸ›  Suporte";
    btn.href = "https://materprint.com.br";
    btn.target = "_blank";
    btn.className = "suporte-botao";
    h.prepend(btn);
    clearInterval(intervalo);
  }
}, 500);

